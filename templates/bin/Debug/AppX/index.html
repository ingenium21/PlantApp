<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="https://code.jquery.com/jquery-3.3.1.js"
            integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
            crossorigin="anonymous"></script>
    
    <link rel="stylesheet" href="stylesheet.css">
</head>
<body>
    <h1>Proposal Picker</h1>
    <div>Content goes here.</div>
    
    <a class="toggle" href="javascript:void(0);">Designer or Landscape Architect</a>
        <ul class="inner">
            <li>
                <a href="#" class="toggle">Front Landscape Design</a>
                    <li>
                        <a href="#" class="toggle">Log size: ~0.5 Acre</a>
                            <ul class="inner">
                                <li><a class="add-to-cart" href="#" data-name="Just give me the idea, hand sketch is fine" data-price="249">Just give me the idea, hand sketch is fine</a></li>
                                <li><a class="add-to-cart" href="#" data-name="Professional Flat Plan to Scale, Design Legend and SOW Document" data-price="399">Professional Flat Plan to Scale, Design Legend and SOW Document</a></li>
                                <li><a class="add-to-cart" href="#" data-name="Add 3D Full Color Rendering " data-price="249">Add 3D Full Color Rendering </a></li>
                            </ul>
                    </li>
                    <li>
                        <a href="#" class="toggle">Log size: .5-1 Acre</a>
                        <ul class="inner">
                            <li><a class="add-to-cart" href="#" data-name="Just give me the idea, hand sketch is fine" data-price="299">Just give me the idea, hand sketch is fine</a></li>
                            <li><a class="add-to-cart" href="#" data-name="Professional Flat Plan to Scale, Design Legend and SOW Document" data-price="449">Professional Flat Plan to Scale, Design Legend and SOW Document</a></li>
                            <li><a class="add-to-cart" href="#" data-name="Add 3D Full Color Rendering " data-price="299">Add 3D Full Color Rendering </a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#" class="toggle">Log size: +1 Acre</a>
                        <ul class="inner">
                            <li><a class="add-to-cart" href="#" data-name="Just give me the idea, hand sketch is fine" data-price="349">Just give me the idea, hand sketch is fine</a></li>
                            <li><a class="add-to-cart" href="#" data-name="Professional Flat Plan to Scale, Design Legend and SOW Document" data-price="549">Professional Flat Plan to Scale, Design Legend and SOW Document</a></li>
                            <li><a class="add-to-cart" href="#" data-name="Add 3D Full Color Rendering " data-price="349">Add 3D Full Color Rendering </a></li>
                        </ul>
                    </li>
            </li>
        </ul>

    
	<button class="collapsible"> Open Section 3 </button>
    <div class="content">
        <ul>
            <li><a class="add-to-cart" href="#" data-name="Grapes" data-price="1.22">Grapes 1.22</a></li>
            <li><a class="add-to-cart" href="#" data-name="Pomegranate" data-price="1.33">Pomegranate 1.33</a></li>
            <li><a class="add-to-cart" href="#" data-name="Brogues" data-price="22.33">Brogues 22.33</a></li>
            <li><a class="add-to-cart" href="#" data-name="Juice" data-price="5.22">Juice 5.22</a></li>
            <li><a class="add-to-cart" href="#" data-name="Tumeric" data-price="4.00">Tumeric 4.00</a></li>
        </ul>
    </div>
	<button class="collapsible"> Open Section 4 </button>
    <div class="content">
        <ul>
            <li><a class="add-to-cart" href="#" data-name="Pear" data-price="1.22">Pear 1.22</a></li>
            <li><a class="add-to-cart" href="#" data-name="Apricot" data-price="1.33">Apricot 1.33</a></li>
            <li><a class="add-to-cart" href="#" data-name="Sandal" data-price="22.33">Sandal 22.33</a></li>
            <li><a class="add-to-cart" href="#" data-name="Mineral Water" data-price="5.22">Mineral Water 5.22</a></li>
            <li><a class="add-to-cart" href="#" data-name="Almonds" data-price="4.00">Almonds 4.00</a></li>
        </ul>
    </div>
    <div>
        <button id="clear-cart">Clear Cart</button>
    </div>
    <div>
        <ul id="show-cart">
            <!-- -->
        </ul>
        <div>You have <span id="count-cart">X</span> items in your cart</div>
        <div>Total Cart:$<span id="total-cart"></span></div>
    </div>
    <script> //collapsible script
        $('.toggle').click(function (e) {
            e.preventDefault();

            var $this = $(this);

            if ($this.next().hasClass('show')) {
                $this.next().removeClass('show');
                $this.next().slideUp(350);
            } else {
                $this.parent().parent().find('li .inner').removeClass('show');
                $this.parent().parent().find('li .inner').slideUp(350);
                $this.next().toggleClass('show');
                $this.next().slideToggle(350);
            }
        });
    </script>
    <script src=".\ShoppingCart.js">

    </script>
    <script>
        $(".add-to-cart").click(function (event) {
            event.preventDefault();
            var name = $(this).attr("data-name");
            var price = Number($(this).attr("data-price"));

            PA_shoppingCart.addItemToCart(name, price, 1);
            displayCart();
        });

        $("#clear-cart").click(function (event) {
            PA_shoppingCart.clearCart();
            displayCart();
        });

        function displayCart() {
            var cartArray = PA_shoppingCart.listCart();
            var output = "";
            for (var i in cartArray) {
                output += "<li>"
                    + cartArray[i].name
                    + " "
                    + " <input class='item-count' type='number' data-name='"
                    + cartArray[i].name
                    + "' value='"+cartArray[i].count+"' >"
                    + " x "+ cartArray[i].price
                    + " = "+ " "+ "$"+ cartArray[i].total
                    + " <button class='plus-item' data-name='" +
                    cartArray[i].name+"'>+</button>"
                    + " <button class='subtract-item' data-name='"
                    +cartArray[i].name+"'>-</button>"
                    + "<button class='delete-item' data-name='"
                    +cartArray[i].name+"'> X </button>"
                    + "</li>"
            }
            $("#show-cart").html(output);
            $("#count-cart").html( PA_shoppingCart.countCart())
            $("#total-cart").html(PA_shoppingCart.totalCart());
        }

        $("#show-cart").on("click", ".delete-item", function (event) {
            var name = $(this).attr("data-name");
            PA_shoppingCart.removeItemFromCartAll(name);
            displayCart();
        });

        $("#show-cart").on("click", ".subtract-item", function (event) {
            var name = $(this).attr("data-name");
            PA_shoppingCart.removeItemFromCart(name);
            displayCart();
        });

        $("#show-cart").on("click", ".plus-item", function (event) {
            var name = $(this).attr("data-name");
            PA_shoppingCart.addItemToCart(name, 0, 1);
            displayCart();
        });

        $("#show-cart").on("change", ".item-count", function (event) {
            var name = $(this).attr("data-name");
            var count = Number( $(this).val() );
            PA_shoppingCart.setCountForItem(name, count);
            displayCart();
        });
        
        displayCart();
        console.log("Shopping Cart: cart");
        console.log(PA_shoppingCart.cart);
        console.log("Global Cart: ");
        console.log(PA_shoppingCart.cart);
       

       
    </script>
</body>
</html>